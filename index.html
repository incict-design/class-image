<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ã‚¯ãƒ©ã‚¹é€£çµ¡</title>
<style>
body {
  box-sizing: border-box;
  font-family: 'Hiragino Sans', 'Yu Gothic', sans-serif;
  margin: 0;
  padding: 20px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  min-height: 100%;
  color: #333;
}
html {
  height: 100%;
}
.container {
  max-width: 900px;
  margin: 0 auto;
  background: white;
  border-radius: 20px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.2);
  overflow: hidden;
}
.header {
  background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
  color: white;
  padding: 30px 20px;
  text-align: center;
}
.header h1 {
  margin: 0;
  font-size: 24px;
  font-weight: 600;
}
.header .bible-text {
  margin-top: 8px;
  color: black;
  font-size: 16px;
  line-height: 1.5;
}
.main-content {
  display: flex;
  flex-wrap: wrap;
  height: auto;
}
.date-buttons {
  padding: 20px;
  display: grid;
  gap: 12px;
  flex: 1;
  border-right: 2px solid #e1e8ff;
  min-width: 260px;
}
.date-row {
  display: flex;
  gap: 8px;
  align-items: center;
}
/* ğŸŒ¿ æ—¥ä»˜ãƒœã‚¿ãƒ³ */
.date-button {
  background: linear-gradient(45deg, #81C784 0%, #4CAF50 100%);
  color: white;
  border: none;
  padding: 16px 20px;
  border-radius: 12px;
  font-size: 16px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
  flex: 1;
}
.date-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
}
/* ğŸŠ ãŠã¿ãã˜ãƒœã‚¿ãƒ³ */
.omikuji-button {
  background: linear-gradient(45deg, #ff9500 0%, #ff6a00 100%);
  color: white;
  border: none;
  padding: 16px 20px;
  border-radius: 12px;
  font-size: 16px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(255, 149, 0, 0.3);
  text-align: center;
  width: 100%;
}
.omikuji-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(255, 149, 0, 0.4);
}
/* ãŠã¿ãã˜çµæœè¡¨ç¤º */
.omikuji-result {
  margin-top: 8px;
  padding: 10px;
  background: #fff7e6;
  border-radius: 8px;
  border-left: 4px solid #ff9500;
  font-size: 14px;
  text-align: center;
  display: none;
}
.schedule-display {
  flex: 1;
  margin: 20px;
  padding: 20px;
  background: #f8f9ff;
  border-radius: 12px;
  border-left: 4px solid #4facfe;
  display: none;
  animation: fadeIn 0.3s ease;
}
.schedule-display.show {
  display: block;
}
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
.schedule-date {
  font-size: 18px;
  font-weight: 600;
  color: #4facfe;
  margin-bottom: 15px;
  padding-bottom: 8px;
  border-bottom: 2px solid #e1e8ff;
}
.schedule-content {
  font-size: 15px;
  line-height: 1.6;
  color: #555;
}
.change-item {
  margin: 8px 0;
  padding: 8px 12px;
  background: white;
  border-radius: 8px;
  border-left: 3px solid #f5576c;
}
/* ğŸ¯ ãƒãƒƒã‚¸ã‚³ãƒ³ãƒ†ãƒŠ */
.badge-container {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 20px;
  margin: 30px 0;
  flex-wrap: wrap;
}
/* ç¸¦ç”»é¢ã§ã¯ç¸¦ä¸¦ã³ */
@media (orientation: portrait) {
  .badge-container { flex-direction: column; }
}
/* æ¨ªç”»é¢ã§ã¯æ¨ªä¸¦ã³ */
@media (orientation: landscape) {
  .badge-container { flex-direction: row; }
}
</style>
</head>
<body>
<main class="container">
  <header class="header">
    <h1 style="margin: 0;">11æœˆ7æ—¥ï¼ˆé‡‘ï¼‰</h1>
    <div class="bible-text">
      <div>Peace Truth LOVE</div>
    </div>
  </header>

  <div class="main-content">
    <section class="date-buttons">
      <!-- ğŸŠ ãŠã¿ãã˜ãƒœã‚¿ãƒ³ï¼‹çµæœ -->
      <div class="date-row">
        <button class="omikuji-button" onclick="drawOmikuji()">ãŠã¿ãã˜ã€€1æ—¥2å›</button>
      </div>
      <div id="omikujiResult" class="omikuji-result"></div>

      <!-- ğŸŒ¿ æ—¥ä»˜ãƒœã‚¿ãƒ³ -->
      <div class="date-row"><button class="date-button" onclick="showSchedule('today')">æœ¬æ—¥</button></div>
      <div class="date-row"><button class="date-button" onclick="showSchedule('tomorrow')">æ˜æ—¥</button></div>
      <div class="date-row"><button class="date-button" onclick="showSchedule('following')">æ˜å¾Œæ—¥</button></div>
    </section>

    <div id="scheduleDisplay" class="schedule-display">
      <div id="scheduleDate" class="schedule-date"></div>
      <div id="scheduleContent" class="schedule-content"></div>
    </div>
  </div>
</main>

<script>
const scheduleData = {
  'today': {
    date: 'æœ¬æ—¥',
    content:  '<div class="change-item">å‡ºç‰ˆå§”å“¡ï¼šé«˜ç¿”åŸç¨¿ã€Œå­¦åœ’ç¥­ã®åŸç¨¿ã€ç· åˆ‡æ—¥</div><div class="change-item">7é™ï¼šè‹±èªè¬›ç¿’</div>' },
  'tomorrow': { date: 'æ˜æ—¥', content: '<div class="change-item">å‹‰å¼·å‹‰å¼·å‹‰å¼·</div>' },
  'following': { date: 'æ˜å¾Œæ—¥', content: '<div class="change-item">11/9ï¼ˆæ—¥ï¼‰2å¹´8çµ„ã®ç”Ÿå¾’ãŒã‚«ãƒ•ã‚§ã‚’é–‹ãã¾ã™ã€‚å ´æ‰€ã¯å¤§ç”•é§…å¾’æ­©2åˆ†ã®ãƒŸã‚«ã‚±ãƒ«ï¼’Fã€‚ãƒãƒ•ã‚£ãƒ³ã¨ç´…èŒ¶ã‚»ãƒƒãƒˆã§500å††ã®äºˆå®šã€‚æ™‚é–“ã¯10æ™‚ã‹ã‚‰16æ™‚ã§ã™ã€‚</div>' }
};

const omikujiResults = [
  {name: 'å‡¶', text: 'æ°´é‰„ç ²ã§æ’ƒãŸã‚Œã‚‹'},
  {name: 'å‰', text: 'éš•çŸ³ã«ã¶ã¤ã‹ã‚‹'},
  {name: 'æœ«å‰', text: 'å¸¸åŒ—ãƒ•ã‚¡ãƒ¼ãƒ ã§æ„›ã®ã•ã•ã‚„ã'},
  {name: 'å°å‰', text: 'è„³ç­‹å¤§çˆ†ç™ºï¼'},
  {name: 'ä¸­å‰', text: 'è„³ã¿ãçµ¶å¯¾é›¶åº¦'},
  {name: 'å¤§å‰', text: 'ç…§æ²¼ã¨ç¨ã‚ã£ã“'}
];

// ğŸ—“ ä»Šæ—¥ã®æ—¥ä»˜ã‚­ãƒ¼
function getTodayKey() {
  const today = new Date();
  return today.getFullYear() + '-' + (today.getMonth()+1) + '-' + today.getDate();
}

// ğŸ”¸ æŠ½é¸å›æ•°ã‚’å–å¾—
function getDrawCount() {
  const key = getTodayKey();
  const data = JSON.parse(localStorage.getItem('omikujiCount')) || {};
  return data[key] || 0;
}

// ğŸ”¸ å›æ•°ã‚’å¢—ã‚„ã™
function incrementDrawCount() {
  const key = getTodayKey();
  const data = JSON.parse(localStorage.getItem('omikujiCount')) || {};
  data[key] = (data[key] || 0) + 1;
  localStorage.setItem('omikujiCount', JSON.stringify(data));
}

// ğŸ”¸ 2å›ç›®ã®çµæœã‚’ä¿å­˜ãƒ»å–å¾—
function getSecondResult() {
  const key = getTodayKey() + '-secondResult';
  return JSON.parse(localStorage.getItem(key));
}
function setSecondResult(result) {
  const key = getTodayKey() + '-secondResult';
  localStorage.setItem(key, JSON.stringify(result));
}

// ğŸŠ ãŠã¿ãã˜æœ¬ä½“
function drawOmikuji() {
  const count = getDrawCount();
  const resultBox = document.getElementById('omikujiResult');
  resultBox.style.display = 'block';

  if (count === 0) {
    // 1å›ç›®
    const r = Math.floor(Math.random() * omikujiResults.length);
    const result = omikujiResults[r];
    resultBox.innerHTML = `ä»Šæ—¥ã®é‹å‹¢ï¼š<strong>${result.name}</strong><br>${result.text}`;
    incrementDrawCount();
  } else if (count === 1) {
    // 2å›ç›®ï¼ˆä¿å­˜ï¼‰
    const r = Math.floor(Math.random() * omikujiResults.length);
    const result = omikujiResults[r];
    setSecondResult(result);
    resultBox.innerHTML = `ä»Šæ—¥ã®é‹å‹¢ï¼š<strong>${result.name}</strong><br>${result.text}`;
    incrementDrawCount();
  } else {
    // 3å›ç›®ä»¥é™ â†’ 2å›ç›®ã®çµæœã‚’å›ºå®šè¡¨ç¤º
    const saved = getSecondResult();
    if (saved) {
      resultBox.innerHTML = `ä»Šæ—¥ã®é‹å‹¢ï¼š<strong>${saved.name}</strong><br>${saved.text}`;
    } else {
      resultBox.innerHTML = "ï¼ˆ2å›ç›®ã®çµæœãŒã‚ã‚Šã¾ã›ã‚“ï¼‰";
    }
  }
}

// ğŸŒ¿ ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¡¨ç¤º
function showSchedule(key) {
  const d = document.getElementById('scheduleDisplay');
  const dd = document.getElementById('scheduleDate');
  const c = document.getElementById('scheduleContent');
  dd.textContent = scheduleData[key].date;
  c.innerHTML = scheduleData[key].content;
  d.classList.add('show');
}
</script>
</body>
</html>
